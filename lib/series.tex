\documentclass[main.tex]{subfiles}
\begin{document}

\chapter{Series}

\begin{libraryfile}
  \begin{algorithm}{1}{1}{sum-naturals}
    \begin{algorithm-description}
        Compute the sum of all natual numbers up to and including $n$.
    \end{algorithm-description}
    \begin{algorithm-explanation}
      The exact solution would be the value of the following expression:
      \[ \sum_{i=0}^{n}i \]
      We know this can be rewritten as follows:\prref{sum-of-first-n-natural-numbers}
      \[ \frac{n\cdot(n+1)}{2} \]
      This can be computed in constant time.
      \begin{figure}[H]
        \centering
        \inputminted[firstline=5, lastline=7]{c}{\lib{c}{series.c}}
        \caption{An implementation in C}
      \end{figure}
    \end{algorithm-explanation}
  \end{algorithm}
\end{libraryfile}

\end{document}
